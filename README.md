# Global Life Expectancy: 1960 to 2020
### Description
An interactive data visualization dashboard of global life expectancy from 1960 to 2020. The source of the data is from Our World in Data: [source](https://ourworldindata.org/grapher/life-expectancy-at-birth-total-years)

### Info / Credits
- Analysis by
* `Jennifer Alfson` [@jennyalfi](https://github.com/jennyalfi)
* `Niti Patel` [@niti2442](https://github.com/niti2442)
* `Gagandeep Singh` [@gsingh510](https://github.com/gsingh510)
* `Kolton Xie` [@kottonxie](https://github.com/kottonxie)
* `Alex Storton` [@astorton](https://github.com/astorton)
* `Bryan Tsan-Tang` [@bryan-tt](https://github.com/bryan-tt)


   - `REPO:` https://github.com/bryan-tt/global_life_expectancy


   - `Analysis Last Updated:` July 7th, 2023


   - `Report Last Updated:` July 7th, 2023


### Data Sources
|Name|Type|Description|Website|
|---|---|---|---|
|Life Expectancy 1960-2020 | CSV | The average number of years a newborn would live if age-specific mortality rates in the current year were to stay the same throughout its life. |https://ourworldindata.org/grapher/life-expectancy-at-birth-total-years|

## Table of Contents
- Introduction
- About the Data
- Back-end Setup
- Front-end Visuals
   * Map
   * Line Chart
   * Bar Race and Dumb Bell Chart
- Challenges & Future Plans
- Conclusion

## Introduction
Greetings!

If you are interested in gathering insights on life expectancy and its correlations with income at the global level then you’ve come to the right place! The purpose of this repository is to store all relevant data and scripting that enable the user to fire up an interactive dashboard to gain said insights. All tools and resources were produced for Project 3 of the 2023 UC Berkeley Data Analytics Bootcamp and authored by the following team members:

- Jennifer
- Niti
- Gagandeep
- Kolton
- Alex
- Bryan 

In this dashboard project, we utilized the knowledge we obtained on Javascript (Plotly.js, Highcharts.js, D3.js), HTML, CSS, Python Flask-powered API, and SQL to create the dashboard tool to visualize global life expectancy data.

## About the Data
Our data visualization dashboard was created using Our World in Data and includes various data points such as countries, regions, and income. The purpose of this data is to analyze life expectancy on a global scale.

The dataset provides a range of macro-level data points, including entities (such as countries, income levels, and regions), years, and average life expectancy. All the collected data is dated from 1960 to 2020.

## Back-end Setup
Back-end is defined as the data schema, storage, and automated query and preparation for the visualizations. Data storage was made possible by utilizing a DBeaver PostgreSQL Database, following a simple, single-table schema with 4 native data fields and one custom primary key generated by the team itself. The data fields are identified below: 

- primary key (integer)
- entity (varchar)
- code (varchar)
- year (integer)
- life_expectancy (float)

The PostgreSQL database is directly connected to a Flask server that automates the data query via a single-route API. Flask processes the data to make it usable for the JS/HTML-powered visualizations contained in the dashboard. A key element is the existence of the primary key generated by our team. This enables the SQLAlchemy ORM to perform basic DDL functions (e.g., INSERT and DELETE) via the identity.map session functionality inherent in the app.


## Front-end (Visuals)
![Dashboard Preview](Resources/dashboard.png)
### Map
The choropleth map visual is a great way to visualize global life expectancy data per country. The main interactive features include a drop down menu to only show specific regions, mouse hover capabilities to see more detail per country, and a play/pause button with slider to see how life expectancy changes over the years.

Using this visual, we can gain insight into countries that exhibited slower progress in increasing life expectancy, enabling us to explore factors like lower GDP, limited healthcare access, water quality, literacy rate, and more in our search for possible explanations.

![Choropleth Map](Resources/map.png)

### Line Chart

Our line chart allows the user to easily compare the lifespan over time for any selected countries, regions, and income levels via the dropdown menu. A reset button is provided to enable the user to clear selections and start over with new choices.

The landing page chart compares Japan (with a longer average life expectancy), Nigeria (with a shorter average life expectancy), and the world average life expectancy. The user can then select additional options to compare from the dropdown menu or click the reset button to choose only what they want to compare.

Hovering over the line will display the average life expectancy number for any point on the line.

![Line Chart Landing](Resources/Line_landing.png)

#### Income Comparison
When clicked, the income comparison button changes the chart to show the data for the following world income levels: low, lower middle, low & middle, middle, upper middle, and high. 
This reveals that the income level directly impacts the lifespan of its people, as seen below.

![Income Chart](Resources/Line_income.png)

#### Region Comparison
The region comparison button shows the data for the world regions: European Union, North America, Europe and Central Asia, East Asia, Latin America, South Asia, South Africa, and Sub-Saharan Africa.

This demonstrates the overall life expectancy for each world region, as seen below.

![Region Chart](Resources/Line_regions.png)


### Bar Race and Dumb Bell Chart
Using the bar race graph with a sorting function helped us to visualize the top 20 countries with the highest life expectancies per year. This helped us see which countries were doing the best per year, and the added play button functionality let us see how this changed from year to year. 

The bar race graph helped us see the top 20 life expectancies and the countries, but the dumb bell chart allowed for us to see the full range in how much a country’s life expectancy has grown over the period 1960 to 2020. Pairing these two charts together gave us a clear picture on life expectancy growth. 

![Bar Race Dumb Bell](Resources/dumbbar.png)

## Challenges & Future Plans
Visualization Tools:
Some of the main issues we encountered revolved around using new visualization tools. We attempted to use the Highcharts.js library to create the map; however, this proved to be a little too complex to learn within our time constraints. Consequently, we decided to use a more familiar library, Plotly.
Initially, we created our map visualization with Plotly.py (Python). However, we faced a challenge when trying to incorporate the Python visual into our HTML page. Since we were unfamiliar with PyScript, we ended up switching to Plotly.js (JavaScript).
The last challenge we encountered was attempting to incorporate other types of charts, but most of them did not align well with the data we were using (such as the tree map).

Future Plans:
Regarding future plans and potential improvements, we would have liked to allocate more time to style our dashboard with a specific theme. Additionally, we would have liked to incorporate more data to explore possible explanations for the life expectancy numbers. Data such as GDP, literacy rate, access to healthcare, or water quality could potentially provide insights. Lastly, we aim to explore the incorporation of live data, enabling real-time updates on the dashboard.

## Conclusion
Overall this dashboard project has helped us to exercise our full stack web development skills. We were able to connect a back-end to a front-end, and display information in a dashboard that is easily digestible and user-friendly.

We learned a lot about the purpose of dashboards, and how they can provide valuable insights and information to users. The global life expectancy dashboard we have developed serves as a powerful tool for visualizing and understanding life expectancy trends across different countries and regions.

By connecting the back-end to the front-end, we were able to create a seamless user experience. Users can easily interact with the dashboard, exploring different metrics and comparing life expectancies between countries. The intuitive design and user-friendly interface make it accessible to a wide range of users, from researchers and policymakers to individuals interested in global health trends.

Through the development of this dashboard, we also gained a deeper understanding of the factors that influence life expectancy. We analyzed various socio-economic indicators, such as income, to identify correlations and patterns that contribute to differences in life expectancy across countries. This knowledge can be invaluable for policymakers and organizations working to improve global health outcomes.

Furthermore, the dashboard provides a platform for users to monitor changes in life expectancy over time. By visualizing historical data and potentially incorporating real-time updates, users can track progress and identify areas where interventions and improvements are needed. This feature would enhance the dashboard's usefulness as a decision-making tool and support evidence-based policies and interventions.

Overall, the development of this global life expectancy dashboard has been a rewarding experience. It has allowed us to apply our technical skills in web development while also deepening our understanding of global health and data analysis. We hope that this dashboard will contribute to the field of public health and serve as a valuable resource for researchers, policymakers, and anyone interested in exploring and promoting global well-being.